"use strict";(self.webpackChunkbooks=self.webpackChunkbooks||[]).push([[894],{4675:(ta,g,u)=>{u.r(g),u.d(g,{CartModule:()=>aa});var p=u(6814),_=u(5710),S=u(5619),b=u(9397),D=u(7398),t=u(5879),R=u(3781),v=u(3414),m=u(3683),f=u(5144),h=u(6140),I=u(8937),n=function(a){return a.ArmenianDram="AMD",a.AustralianDollar="AUD",a.AzerbaijaniManat="AZN",a.Baht="THB",a.BelarusianRuble="BYN",a.BrazilianReal="BRL",a.CanadianDollar="CAD",a.Dirham="AED",a.Dollar="USD",a.Euro="EUR",a.GeorgianLari="GEL",a.HongKongDollar="HKD",a.Hryvnia="UAH",a.IndianRupee="INR",a.IndonesianRupiah="IDR",a.IranianRial="IRR",a.IsraeliShekel="ILS",a.KyrgyzstanSom="KGS",a.MalaysianRinggit="MYR",a.MexicanPeso="MXN",a.MongolianTugrik="MNT",a.NewTurkmenManat="TMT",a.Pound="GBP",a.Ruble="RUB",a.SaudiRiyal="SAR",a.SerbianDinar="RSD",a.SingaporeDollar="SGD",a.SouthAfricanRand="ZAR",a.SriLankanRupee="LKR",a.SwissFranc="CHF",a.TajikistaniSomoni="TJS",a.Tenge="KZT",a.TurkishLira="TRY",a.UzbekSum="UZS",a.VietnameseDong="VND",a.Won="KRW",a.Yen="JPY",a.YuanRenminbi="CNY",a}(n||{}),e=function(a){return a.ArmenianDram="051",a.AustralianDollar="036",a.AzerbaijaniManat="944",a.Baht="764",a.BelarusianRuble="933",a.BrazilianReal="986",a.CanadianDollar="124",a.Dirham="784",a.Dollar="840",a.Euro="978",a.GeorgianLari="981",a.HongKongDollar="344",a.Hryvnia="980",a.IndianRupee="356",a.IndonesianRupiah="360",a.IranianRial="364",a.IsraeliShekel="376",a.KyrgyzstanSom="417",a.MalaysianRinggit="458",a.MexicanPeso="484",a.MongolianTugrik="496",a.NewTurkmenManat="934",a.Pound="826",a.Ruble="643",a.SaudiRiyal="682",a.SerbianDinar="941",a.SingaporeDollar="702",a.SouthAfricanRand="710",a.SriLankanRupee="144",a.SwissFranc="756",a.TajikistaniSomoni="972",a.Tenge="398",a.TurkishLira="949",a.UzbekSum="860",a.VietnameseDong="704",a.Won="410",a.Yen="392",a.YuanRenminbi="156",a}(e||{});let B=(()=>{class a{transform(r){return function x(a){const i=function T(a){return null===a||(0,I.Aj)(a)?a||"":String(a).padStart(3,"0")}(a);return function A(a){switch(a){case n.Ruble:case e.Ruble:return"\u20bd";case n.Dollar:case e.Dollar:case n.MexicanPeso:case e.MexicanPeso:return"$";case n.SingaporeDollar:case e.SingaporeDollar:return"S$";case n.AustralianDollar:case e.AustralianDollar:return"A$";case n.HongKongDollar:case e.HongKongDollar:return"HK$";case n.CanadianDollar:case e.CanadianDollar:return"C$";case n.Euro:case e.Euro:return"\u20ac";case n.Pound:case e.Pound:return"\xa3";case n.Baht:case e.Baht:return"\u0e3f";case n.TurkishLira:case e.TurkishLira:return"\u20ba";case n.YuanRenminbi:case e.YuanRenminbi:return"CN\xa5";case n.Yen:case e.Yen:return"\xa5";case n.IsraeliShekel:case e.IsraeliShekel:return"\u20aa";case n.IndianRupee:case e.IndianRupee:return"\u20b9";case n.SwissFranc:case e.SwissFranc:return"\u20a3";case n.ArmenianDram:case e.ArmenianDram:return"\u058f";case n.Won:case e.Won:return"\u20a9";case n.Tenge:case e.Tenge:return"\u20b8";case n.Hryvnia:case e.Hryvnia:return"\u20b4";case n.UzbekSum:case e.UzbekSum:return"So'm";case n.KyrgyzstanSom:case e.KyrgyzstanSom:return"c";case n.Dirham:case e.Dirham:return"Dh";case n.TajikistaniSomoni:case e.TajikistaniSomoni:return"SM";case n.MalaysianRinggit:case e.MalaysianRinggit:return"RM";case n.BelarusianRuble:case e.BelarusianRuble:return"Br";case n.GeorgianLari:case e.GeorgianLari:return"\u20be";case n.AzerbaijaniManat:case e.AzerbaijaniManat:return"\u20bc";case n.SriLankanRupee:case e.SriLankanRupee:return"Rs.";case n.SerbianDinar:case e.SerbianDinar:return"DIN";case n.SaudiRiyal:case e.SaudiRiyal:return"SR";case n.MongolianTugrik:case e.MongolianTugrik:return"\u20ae";case n.SouthAfricanRand:case e.SouthAfricanRand:return"R";case n.IranianRial:case e.IranianRial:return"IR";case n.IndonesianRupiah:case e.IndonesianRupiah:return"Rp";case n.VietnameseDong:case e.VietnameseDong:return"\u0111";case n.NewTurkmenManat:case e.NewTurkmenManat:return"TMT";case n.BrazilianReal:case e.BrazilianReal:return"R$";default:return null}}(i)||i}(r)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275pipe=t.Yjl({name:"tuiCurrency",type:a,pure:!0}),a})(),Z=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({}),a})();function E(a,i){1&a&&(t.TgZ(0,"th",9),t._uU(1,"#"),t.qZA()),2&a&&t.Q6J("sorter",null)}function U(a,i){1&a&&(t.TgZ(0,"th",10),t._uU(1,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA())}function z(a,i){1&a&&(t.TgZ(0,"th",9),t._uU(1,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),t.qZA()),2&a&&t.Q6J("sorter",null)}function L(a,i){1&a&&(t.TgZ(0,"th",10),t._uU(1,"\u0426\u0435\u043d\u0430"),t.qZA())}function y(a,i){1&a&&(t.TgZ(0,"th",9),t._uU(1,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),t.qZA()),2&a&&t.Q6J("sorter",null)}function j(a,i){if(1&a&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&a){const r=t.oxw().index;t.xp6(1),t.hij(" ",r+1," ")}}function H(a,i){if(1&a){const r=t.EpF();t.TgZ(0,"td",19),t.NdJ("click",function(){t.CHM(r);const s=t.oxw().$implicit,l=t.oxw(4);return t.KtG(l.toDetailPage(s.isbn13))}),t._UZ(1,"img",20),t._uU(2),t.qZA()}if(2&a){const r=t.oxw().$implicit;t.xp6(1),t.Q6J("src",r.image,t.LSH)("alt",r.title),t.xp6(1),t.hij(" ",r.title," ")}}function J(a,i){if(1&a&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&a){const r=t.oxw().$implicit;t.xp6(1),t.Oqu(r.subtitle||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")}}function $(a,i){if(1&a&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&a){const r=t.oxw().$implicit;t.xp6(1),t.Oqu(r.price)}}function C(a,i){if(1&a){const r=t.EpF();t.TgZ(0,"td",19),t.NdJ("click",function(s){return s.stopPropagation()}),t.TgZ(1,"button",21),t.NdJ("click",function(){t.CHM(r);const s=t.oxw().$implicit,l=t.oxw(4);return t.KtG(l.removeFromCart(s))}),t._uU(2," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b "),t.qZA()()}}function K(a,i){1&a&&(t.TgZ(0,"tr",15),t.YNc(1,j,2,1,"td",16),t.YNc(2,H,3,3,"td",17),t.YNc(3,J,2,1,"td",16),t.YNc(4,$,2,1,"td",16),t.YNc(5,C,3,0,"td",17),t.qZA()),2&a&&(t.xp6(1),t.Q6J("tuiCell","number"),t.xp6(1),t.Q6J("tuiCell","title"),t.xp6(1),t.Q6J("tuiCell","subtitle"),t.xp6(1),t.Q6J("tuiCell","price"),t.xp6(1),t.Q6J("tuiCell","cart"))}function w(a,i){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"tuiCurrency"),t.ALo(3,"async"),t.qZA()),2&a){const r=t.oxw(4);t.xp6(1),t.AsE(" \u0421\u0443\u043c\u043c\u0430: ",t.lcZ(2,2,"USD"),"",t.lcZ(3,4,r.totalSum$)," ")}}function G(a,i){if(1&a&&(t.TgZ(0,"tbody",11),t.YNc(1,K,6,5,"tr",12),t.TgZ(2,"tr",13),t.YNc(3,w,4,6,"td",14),t.qZA()()),2&a){const r=i.tuiLet;t.Q6J("data",r),t.xp6(1),t.Q6J("ngForOf",r),t.xp6(2),t.Q6J("tuiCell","price")}}function Q(a,i){if(1&a&&(t.TgZ(0,"table",4)(1,"thead")(2,"tr",5),t.YNc(3,E,2,1,"th",6),t.YNc(4,U,2,0,"th",7),t.YNc(5,z,2,1,"th",6),t.YNc(6,L,2,0,"th",7),t.YNc(7,y,2,1,"th",6),t.qZA()(),t.YNc(8,G,4,3,"tbody",8),t.ALo(9,"tuiTableSort"),t.qZA()),2&a){const r=t.oxw().ngIf,o=t.oxw();t.Q6J("columns",o.columns),t.xp6(3),t.Q6J("tuiHead","number"),t.xp6(1),t.Q6J("tuiHead","title"),t.xp6(1),t.Q6J("tuiHead","subtitle"),t.xp6(1),t.Q6J("tuiHead","price"),t.xp6(1),t.Q6J("tuiHead","cart"),t.xp6(1),t.Q6J("tuiLet",t.lcZ(9,7,r))}}function O(a,i){if(1&a&&(t.TgZ(0,"div",2),t.YNc(1,Q,10,9,"table",3),t.qZA()),2&a){const r=i.ngIf;t.oxw();const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",r.length>0)("ngIfElse",o)}}function W(a,i){1&a&&(t.TgZ(0,"div"),t._uU(1,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"),t.qZA())}const V=[{path:"",component:(()=>{class a{constructor(r,o,s){this.booksDataService=r,this.cartService=o,this.router=s,this.columns=["number","title","subtitle","price","cart"],this.totalSum$=new S.X(0),this.booksInCart$=this.cartService.booksInCart$.pipe((0,b.b)(l=>{let c=0;l.forEach(d=>{c+=parseFloat(d.price.replace("$",""))}),c=parseFloat(c.toFixed(2)),this.totalSum$.next(c)}))}ngOnInit(){this.cartService.getBooksInCart().subscribe()}toDetailPage(r){r&&this.router.navigate(["main",r])}removeFromCart(r){r&&(this.cartService.removeFromCart(r),this.totalSum$.pipe((0,D.U)(o=>(o-parseFloat(r.price.replace("$",""))).toFixed(2))))}static#a=this.\u0275fac=function(o){return new(o||a)(t.Y36(R.s),t.Y36(v.N),t.Y36(_.F0))};static#t=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-cart"]],decls:4,vars:3,consts:[["class","cart",4,"ngIf"],["emptyCart",""],[1,"cart"],["class","books-table","tuiTable","",3,"columns",4,"ngIf","ngIfElse"],["tuiTable","",1,"books-table",3,"columns"],["tuiThGroup",""],["tuiTh","",3,"sorter",4,"tuiHead"],["tuiTh","",4,"tuiHead"],["tuiTbody","",3,"data",4,"tuiLet"],["tuiTh","",3,"sorter"],["tuiTh",""],["tuiTbody","",3,"data"],["tuiTr","","class","cart-book-row",4,"ngFor","ngForOf"],["tuiTr","",1,"total-price"],["colspan","5","tuiTd","",4,"tuiCell"],["tuiTr","",1,"cart-book-row"],["tuiTd","",4,"tuiCell"],["tuiTd","",3,"click",4,"tuiCell"],["tuiTd",""],["tuiTd","",3,"click"],["width","30px",3,"src","alt"],["tuiButton","","size","s","appearance","secondary-destructive","icon","tuiIconTrash2",3,"click"],["colspan","5","tuiTd",""]],template:function(o,s){1&o&&(t.YNc(0,O,2,2,"div",0),t.ALo(1,"async"),t.YNc(2,W,2,0,"ng-template",null,1,t.W1O)),2&o&&t.Q6J("ngIf",t.lcZ(1,1,s.booksInCart$))},dependencies:[p.sg,p.O5,m.c4,m.jY,m.EE,m.Ws,m.Kt,m.fu,m.Bl,m.DZ,f.Ls,h.v0,p.Ov,m.yS,B],styles:[".cart[_ngcontent-%COMP%]{margin:0 auto;display:flex;align-items:center;justify-content:center;flex-direction:column;max-width:90rem;padding:1.5rem}.cart-book-row[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#faeee5;cursor:pointer}"],changeDetection:0})}return a})()}];let X=(()=>{class a{static#a=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(V),_.Bz]})}return a})();var q=u(9496);let aa=(()=>{class a{static#a=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[p.ez,X,q.BookListModule,m.jz,f.WD,h.fN,Z]})}return a})()}}]);